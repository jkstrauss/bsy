<html>
  <head>
    <title>תוספת להקהל</title>
	<link rel="stylesheet" type="text/css" href="hakhel.css">
	<script src= "https://ajax.googleapis.com/ajax/libs/angularjs/1.6.9/angular.min.js"></script>
	<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.9/angular-sanitize.js"></script>
	<script src= "hakhel.js"></script>
	
	</head>
	<body dir="rtl" ng-app="myApp" ng-controller="myCtrl" data-ng-init="init()">
		<div class="main">
			<div class="actual">
				<div class="hide-print">
					<div>
						<select ng-model="displayOption" ng-options="o.display for o in displayOptions" ></select>
					</div>
					<div>
						<select ng-model="noteOption" ng-options="o.display for o in noteOptions" ></select>
					</div>
					<div>
						<input type="checkbox" id="subtle" ng-model="subtle">
						<label for="subtle">Subtle Names</label><br>
					</div>
				</div>
				<div ng-show="noteOption.text" data-subtle="{{subtle}}">
					<div class="coverPageWrapper">
						<div class="coverPage">
							<h1>
								<p ng-repeat="header in intro">{{header}}</p>
							</h1>
						</div>
					</div>
					<div class="pages" data-display-option="{{displayOption.name}}" data-offset-acrostic="{{displayOption.offsetAcrostic}}" data-language-equal-size="{{displayOption.languageEqualSize}}">
						<div class="page" ng-repeat="page in displayOption.pages || [0]">
							<div style="tableContainer">
								<div>								
									<p ng-repeat="stanza in content" class="stanza">
										<span ng-repeat="line in displayOption.lines" class="line">
											<span 
												ng-repeat="column in [0,1,2,3] track by column + '_' + line + '_' + page"
												ng-init="obj={line:line,column:column,page:page}"
												class="bayith justify {{displayOption.language(obj)}} {{'line_' + line}} {{'col_' + column}} {{'page_' + page}}"
											>
												<span class="acrostic" ng-show="stanza[column].acrostic && displayOption.language(obj) != 'english'" ng-bind-html="letters(stanza, obj, false)"></span><!-- Prevent unwanted spaces
												--><span ng-bind-html="log(letters(stanza, obj, true)) + punctuation(obj)"></span>
											</span>
										</span>
									</p>
									<p ng-show="page == 0">
										{{end}}
									</p>
								</div>
							</div>
						</div>
					</div>
					<div style="text-align:justify" ng-show="noteOption.notes">
						<span ng-if="content.length" ng-repeat="note in notes()">
							<span style="font-weight:bold">{{doNote(note)}}.</span> {{note[4]}}:
						</span>
					</div>
				</div>
			</div>
		</div>
	</body>
  
</html>
